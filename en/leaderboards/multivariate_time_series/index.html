<!DOCTYPE html>
<html>
<head>
  <script src="/OpenTS/js/jquery.min.js"></script>
  <link rel="icon" type="image/png" href="https://decisionintelligence.github.io/OpenTS/figures/logo10.png">
  <meta name="google-site-verification" content="0HzGL60Z8ChYs-wL6ogMpNB-px7tcu9PcRD1z6OQWe8" />
  <meta name="msvalidate.01" content="FD2A799A0C64AAB3A8289819F1C2DFFB" />
  <meta http-equiv="Access-Control-Allow-Origin" content="*">
  <meta http-equiv='content-language' content='en-gb'>
  <meta charset="utf-8">
  
  
  <title>OpenTS - Democratizing AI for Time series and Spatio-temporal data</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="subtitle" content="A Comprehensive and Fair Benchmark for Time Series Analytics">
  <meta name="description" content="OpenTS-Leaderboards   Leaderboard for multivariate time series forecasting     function displayResults(rankCounts, connectTexts, connectUrls, paperUrls, codeUrls,pub,bib,year,table,is_rank) {      con">
<meta property="og:type" content="website">
<meta property="og:title" content="OpenTS - Democratizing AI for Time series and Spatio-temporal data">
<meta property="og:url" content="https://decisionintelligence.github.io/OpenTS/en/leaderboards/multivariate_time_series/index.html">
<meta property="og:site_name" content="OpenTS - Democratizing AI for Time series and Spatio-temporal data">
<meta property="og:description" content="OpenTS-Leaderboards   Leaderboard for multivariate time series forecasting     function displayResults(rankCounts, connectTexts, connectUrls, paperUrls, codeUrls,pub,bib,year,table,is_rank) {      con">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-07-28T05:30:29.281Z">
<meta property="article:modified_time" content="2025-07-28T05:30:29.281Z">
<meta property="article:author" content="DecisionIntelligence |">
<meta name="twitter:card" content="summary">
  

  <link href="/OpenTS/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/OpenTS/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  
<link rel="stylesheet" href="/OpenTS/css/style.css">

  

<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?8864d";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
<!-- blair add baidu tongji end ! @2017.10.03 -->
<!-- jiangting add start... @2020.08.30 -->

<!-- jiangting add end !  @2020.08.30 -->

<header id="header" style="min-width:1040px">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <!-- <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a> -->
      

      <nav id="main-nav">
        
        
          
          
            <div class="menu-container" data-lang="zh-cn">
              <!-- <p style="font-size: 25px;font-weight: 620;">OpenTS</p> -->
              <a id="logo" style="margin:3px 0; margin-left: 5px;" class="logo" href="/OpenTS/"></a>
              <!-- <div style="width: 4px;height: 58px;border-right: 2px solid #797777;"></div> -->
              
                
                
                
                  
                  <a class="main-nav-link" href="/OpenTS/zh-cn/">易步时空</a>
                    
                
      
              
                
                
                
                  <div class="dropdown">
                    <a href="/OpenTS/zh-cn/OpenTS-Bench" class="main-nav-link dropdown-toggle" style="">评测基准 <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench">概述</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/get%20started/">快速开始</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/datasets">数据集</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/algorithms/methods">算法</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/pipeline">流程</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/team">团队</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Bench/papers">论文</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a  class="main-nav-link dropdown-toggle" style="">模型 <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/zh-cn/OpenTS-FM/">基础模型</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-Auto/">自动机器学习</a>
                      
                        <a href="/OpenTS/zh-cn/OpenTS-DL/">深度学习</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a href="/OpenTS/zh-cn/Applications" class="main-nav-link dropdown-toggle" style="">应用 <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E6%99%BA%E8%83%BD%E8%BF%90%E7%BB%B4%EF%BC%88AIOps%EF%BC%89">智能运维</a>
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E6%99%BA%E6%85%A7%E4%BA%A4%E9%80%9A">智慧交通</a>
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E8%99%9A%E6%8B%9F%E7%94%B5%E5%8E%82">虚拟电厂</a>
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E6%99%BA%E8%83%BD%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%EF%BC%88AI4DB%EF%BC%89">智能数据库优化</a>
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E9%87%91%E8%9E%8D%E7%A7%91%E6%8A%80">金融科技</a>
                      
                        <a href="/OpenTS/zh-cn/Applications/#%E6%99%BA%E8%83%BD%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94">智能应急响应</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a  class="main-nav-link dropdown-toggle" style="">排行榜 <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/zh-cn/leaderboards/univariate_time_series">单变量预测</a>
                      
                        <a href="/OpenTS/zh-cn/leaderboards/multivariate_time_series">多变量预测</a>
                      
                        <a href="/OpenTS/zh-cn/leaderboards/foundation_model">基础模型</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  
                    <a class="main-nav-link" target="_blank" href="https://decisionintelligence.github.io/index">实验室</a>
                    
                
      
              
                
                
                
                  
                  <a class="main-nav-link" target="_blank" rel="noopener" href="https://github.com/decisionintelligence">Github</a>
                    
                
      
              
                
                
                
                  <a id="lang-toggle-link-zh-cn" class="main-nav-link" href="javascript:;">中文|English</a>

                
                
      
              
            </div>
          
        
          
          
            <div class="menu-container" data-lang="en">
              <!-- <p style="font-size: 25px;font-weight: 620;">OpenTS</p> -->
              <a id="logo" style="margin:3px 0; margin-left: 5px;" class="logo" href="/OpenTS/"></a>
              <!-- <div style="width: 4px;height: 58px;border-right: 2px solid #797777;"></div> -->
              
                
                
                
                  
                  <a class="main-nav-link" href="/OpenTS/">OpenTS</a>
                    
                
      
              
                
                
                
                  <div class="dropdown">
                    <a href="/OpenTS/OpenTS-Bench" class="main-nav-link dropdown-toggle" style="">Benchmarks <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/OpenTS-Bench">Overview</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/get%20started/">Get started</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/datasets">Datasets</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/algorithms/methods">Algorithms</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/pipeline">Pipeline</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/team">Team</a>
                      
                        <a href="/OpenTS/OpenTS-Bench/papers">Papers</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a  class="main-nav-link dropdown-toggle" style="">Models <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/OpenTS-FM/">Foundation models</a>
                      
                        <a href="/OpenTS/OpenTS-Auto/">AutoML</a>
                      
                        <a href="/OpenTS/OpenTS-DL/">Deep Learning</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a href="/OpenTS/Applications" class="main-nav-link dropdown-toggle" style="">Applications <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/Applications/#AIOps">AIOps</a>
                      
                        <a href="/OpenTS/Applications/#Intelligent-Transportation">Intelligent Transportation</a>
                      
                        <a href="/OpenTS/Applications/#Virtual%20Power%20Plants%20(VPP)">Virtual Power Plants</a>
                      
                        <a href="/OpenTS/Applications/#AI4DB">AI4DB</a>
                      
                        <a href="/OpenTS/Applications/#FinTech">FinTech</a>
                      
                        <a href="/OpenTS/Applications/#Smart-Emergency-Response">Smart Emergency Response</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  <div class="dropdown">
                    <a  class="main-nav-link dropdown-toggle" style="">Leaderboards <span class="caret"></span></a>
                    <div class="dropdown-content">
                      
                        <a href="/OpenTS/leaderboards/univariate_time_series">Univariate time series</a>
                      
                        <a href="/OpenTS/leaderboards/multivariate_time_series">Multivariate time series</a>
                      
                        <a href="/OpenTS/leaderboards/foundation_model">Foundation model</a>
                      
                    </div>
                  </div>
      
                
                
      
              
                
                
                
                  
                    <a class="main-nav-link" target="_blank" href="https://decisionintelligence.github.io">Lab</a>
                    
                
      
              
                
                
                
                  
                  <a class="main-nav-link" target="_blank" rel="noopener" href="https://github.com/decisionintelligence">Github</a>
                    
                
      
              
                
                
                
                  <a id="lang-toggle-link-en" class="main-nav-link" href="javascript:;">English|中文</a>

                
                
      
              
            </div>
          
        
      </nav>
    
    </div>
  </div>
</header>

<style>
  #header {
    position: relative;
    z-index: 10;
    overflow: visible;
  }

  #header-outer {
    position: relative;
    z-index: 10;
    overflow: visible;
  }

  #header-inner {
    position: relative;
    z-index: 10;
    overflow: visible;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 10px;
    width: 1040px; /* 设置最大宽度 */
    margin: auto; /* 居中对齐 */ /* 确保占满父元素的宽度 */
    flex-wrap: nowrap; /* 保持内容在同一行 */
  }

  .dropdown {
    position: relative;
    display: inline-block;
    text-align: right;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1000;
    top: 100%;
    right: 0;
    width: auto;
    min-width: 100%;
    white-space: nowrap;
  }

  .dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    text-align: left;
    border-top: 1px solid #ddd;
  }

  .dropdown-content a:first-child {
    border-top: none;
  }

  .dropdown-content a:hover {
    background-color: #f1f1f1;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropdown-toggle::after {
    content: " ▼";
    font-size: 0.55em;
    vertical-align: middle;
  }

  #main-nav {
    display: flex;
    align-items: center;
    flex-grow: 1;
    justify-content: space-around;
    flex-wrap: nowrap; /* 保持内容在同一行 */
  }

  .main-nav-link {
    padding: 0 10px; /* 减少 padding，缩小栏目间距 */
  }

  .main-nav-link:not([href]) {
  cursor: default;
}

  @media (max-width: 480px) {
    .main-nav-link {
      padding: 5px; /* 进一步减少 padding，在小屏幕上更紧凑 */
      flex: 1;
      text-align: center;
    }
  }
</style>

    <br>
    <section id="main" class="outer"><article id="page-" class="article article-type-page" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    <div class="article-meta">
      <!--<a href="/OpenTS/en/leaderboards/multivariate_time_series/index.html" class="article-date">
  <time datetime="2025-07-28T05:30:29.281Z" itemprop="datePublished">2025-07-28</time>
</a>-->
      <!-- 
--><!-- by blair 160724 -->
      <!-- by blair
      
      -->
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="OpenTS-Leaderboards"><a href="#OpenTS-Leaderboards" class="headerlink" title="OpenTS-Leaderboards"></a>OpenTS-Leaderboards</h1><script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>


<h2 id="Leaderboard-for-multivariate-time-series-forecasting"><a href="#Leaderboard-for-multivariate-time-series-forecasting" class="headerlink" title="Leaderboard for multivariate time series forecasting"></a>Leaderboard for multivariate time series forecasting</h2><script>




function displayResults(rankCounts, connectTexts, connectUrls, paperUrls, codeUrls,pub,bib,year,table,is_rank) {

    const tableBody = document.getElementById(table).getElementsByTagName('tbody')[0];
    tableBody.innerHTML = ''; // Clear existing table body
    
    rankCounts.sort((a, b) => {
        // 优先比较 rank4，降序排列
        if (b['rank4'] !== a['rank4']) {
          return b['rank4'] - a['rank4'];
        }

        // 如果 rank4 相同，比较 rank1，降序排列
        if (b['rank1'] !== a['rank1']) {
          return b['rank1'] - a['rank1'];
        }

        // 如果 rank1 也相同，比较 rank2，降序排列
        if (b['rank2'] !== a['rank2']) {
          return b['rank2'] - a['rank2'];
        }

        // 如果 rank2 也相同，比较 rank3，降序排列
        return b['rank3'] - a['rank3'];
      });


    var total = 0
    rankCounts.forEach(( counts, index) => {
    
        model = counts['model']
        total += counts['rank1']
        if (!is_rank)
        {
            index=''
        }
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index+1}</td>
            <td>${model}</td>
            <td>${counts['rank4']}</td>
            <td>${counts['rank1']}</td>
            <td>${counts['rank2']}</td>
            <td>${counts['rank3']}</td>
            <td>
                <a href="${paperUrls[model]}"  target="_blank">paper</a>
            </td>
            <td>
             ${pub[model]} [<a href="${bib[model]}" target="_blank">bib</a>]
            </td>
            <td>
                ${year[model]}
            </td>
        `;
        tableBody.appendChild(row);
    });
}

function phraseMultiTable(results, table, datasets,select_metrics,select_horizons,select_score) {
     // Prepare results
    const result = [];
    
    const data =  results
    // Extract new fields
    const connectTexts = {}, connectUrls = {}, paperUrls = {}, codeUrls = {}, pub = {}, year = {}, bib = {};
    
    // Extract metadata from the first seven rows
    for (let i = 0; i < 7; i++) {
        const row = data[i];
        for (const key in row) {
            if (key !== 'Dataset-Quantity-metrics') {
                if (i === 0) connectTexts[key] = row[key];
                if (i === 1) connectUrls[key] = row[key];
                if (i === 2) paperUrls[key] = row[key];
                if (i === 3) codeUrls[key] = row[key];
                if (i === 4) pub[key] = row[key];
                if (i === 5) bib[key] = row[key];
                if (i === 6) year[key] = row[key];
            }
        }
    }
    const all_datasets = new Set();
    
    // Loop through all rows in the data
    for (let i = 7; i < data.length; i++) {
        const row = data[i];
        
        // Check if 'Dataset-Quantity-metrics' exists and is not null
        if (row['Dataset-Quantity-metrics']) {
            all_datasets.add(row['Dataset-Quantity-metrics'].split('-')[0]);
        }
    }
    
    // Remove the first seven rows (metadata)
    const experimentData = data.slice(7);
      const filteredExperimentData = experimentData.filter(row => {
        if (row && row['Dataset-Quantity-metrics']) {
            const dataset = row['Dataset-Quantity-metrics'];
            var items = dataset.split('-')
            var metric = items[items.length - 1].toUpperCase()
            var horizon = items[items.length - 2]
            return dataset && datasets.includes(dataset.split('-')[0]) && select_metrics.includes(metric) && select_horizons.includes(horizon);
        }
        return false;
    });


    if (filteredExperimentData.length == 0 || datasets.length ==0)
    {
        const tableBody = document.getElementById('multivariateTable2').getElementsByTagName('tbody')[0];
       
        const modelColumns = Object.keys(experimentData[0]).slice(1);
        const rankCounts = {};
        modelColumns.forEach(model => {
            rankCounts[model] = {1: 0, 2: 0, 3: 0, 4: 0};
        });
        Object.entries(rankCounts).forEach(([model, values]) => {
        result.push({"model": model, 'rank1': values['1'], 'rank2': values['2'], 'rank3': values['3'], 'rank4': values['4']});
    });
    
        displayResults(result, connectTexts, connectUrls, paperUrls, codeUrls, pub, bib, year, table,false);
        return all_datasets;
    }
    // Identify model columns
    const modelColumns = Object.keys(filteredExperimentData[0]).slice(1);
    const rankCounts = {};
    modelColumns.forEach(model => {
        rankCounts[model] = {1: 0, 2: 0, 3: 0, 4: 0};
    });
    
    var socre31 =  document.getElementById('score/3/1');
    var socre32 =  document.getElementById('score/3/2');
    var socre33 =  document.getElementById('score/3/3');
    var v1=0,v2=0,v3=0
    if (socre31.value)
    {
        v1 =  parseFloat(socre31.value)
    }
    if (socre32.value)
    {
        v2 = parseFloat(socre32.value)
    }
    if (socre33.value)
    {
        v3 =  parseFloat(socre33.value)
    }
    // Process filtered experiment data
    filteredExperimentData.forEach(row => {

        const validModels = modelColumns.filter(model => !isNaN(row[model]));
        validModels.sort((a, b) => row[a] - row[b]);
        minValue = Infinity
        secondMinValue = Infinity
        thirdMinValue = Infinity
        validModels.forEach(model => {
        const value = row[model];
        if(typeof value === 'number')
        {
          if (value < minValue) {
          // 更新第三小值、第二小值和最小值
          [thirdMinValue, secondMinValue, minValue] = [secondMinValue, minValue, value];
          } else if (value < secondMinValue && value !== minValue) {
              // 更新第三小值和第二小值
              [thirdMinValue, secondMinValue] = [secondMinValue, value];
          } else if (value < thirdMinValue && value !== minValue && value !== secondMinValue) {
              // 更新第三小值
              thirdMinValue = value;
          }
        }
        });
     
        // 最后对每个模型的对应排名做计数加一
        validModels.forEach(model => {
            if (row[model]== minValue)
            {
                rank = 1;
                rankCounts[model][rank] = (rankCounts[model][rank] || 0) + 1;
            }else if(row[model]== secondMinValue)
            {
                rank = 2;
                rankCounts[model][rank] = (rankCounts[model][rank] || 0) + 1;
            }else if(row[model]== thirdMinValue)
            {
                rank = 3;
                rankCounts[model][rank] = (rankCounts[model][rank] || 0) + 1;
            }
        });
        validModels.forEach(model => {
            if (select_score[0] == '1' )
            {
                rankCounts[model][4] = rankCounts[model][1];
            }
            else if (select_score[0] == '2' )
            {
                rankCounts[model][4] = rankCounts[model][1] + rankCounts[model][2] + rankCounts[model][3];
            }
            else if (select_score[0] == '3' )
            {
                rankCounts[model][4] = parseFloat(( v1* rankCounts[model][1] + v2 * rankCounts[model][2] + v3* rankCounts[model][3]).toFixed(2))
            }
            
        });
    });


    Object.entries(rankCounts).forEach(([model, values]) => {
        result.push({"model": model, 'rank1': values['1'], 'rank2': values['2'], 'rank3': values['3'], 'rank4': values['4']});
    });
    
    // Display results
    displayResults(result, connectTexts, connectUrls, paperUrls, codeUrls, pub, bib, year, table,true);
    return all_datasets;
}


function populateCheckboxes(datasets) {
    const container = document.getElementById('dataset-container-mul');
    const groupedDatasets = {};

    datasets.forEach(dataset => {
        const [category, name] = dataset.split('/');
        if (!groupedDatasets[category]) {
            groupedDatasets[category] = [];
        }
        groupedDatasets[category].push(name);
    });
    
    groupedDatasets['Metrics'] = ['MAE', 'MSE'];
    
    const sortedCategories = Object.keys(groupedDatasets).sort((a, b) => groupedDatasets[b].length - groupedDatasets[a].length);
    
    sortedCategories.forEach(category => {
        const categoryDiv = document.createElement('div');
        categoryDiv.className = 'category';
    
        const categoryLabel = document.createElement('h3');
        const categoryCheckbox = document.createElement('input');
        categoryCheckbox.type = 'checkbox';
        categoryCheckbox.id = `select-all-${category}`;
        categoryCheckbox.addEventListener('change', () => toggleCategory(category, categoryCheckbox.checked));
    
        categoryLabel.appendChild(categoryCheckbox);
        categoryLabel.appendChild(document.createTextNode(` ${category}`));
        categoryDiv.appendChild(categoryLabel);
    
        const d = document.createElement('div');
        if (category == 'Metrics') {
            d.className = 'checkbox-wrapper1';
        }
        groupedDatasets[category].forEach(name => {
            name = name.replace('_', '-');
            const div = document.createElement('div');
            div.className = 'checkbox-item';
    
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `${category}/${name}`;
            checkbox.value = `${category}/${name}`;
            checkbox.className = `checkbox-${category}`;
            checkbox.addEventListener('change', handleChildCheckboxChange);
    
            const label = document.createElement('label');
            label.htmlFor = `${category}/${name}`;
            label.textContent = name;
    
            div.appendChild(checkbox);
            div.appendChild(label);
            d.appendChild(div);
            categoryDiv.appendChild(d);
        });
        if (category == 'Metrics') {
            // let container1 = document.getElementById('dataset-container-mul-up');
            // container1.appendChild(categoryDiv);
        } else {
            container.appendChild(categoryDiv);
        }
    });
}

function updateP1checkbox()
{
    checked=true

    p1_dataset=['Traffic/Traffic', 'Energy/Solar','Health/ILI','select-all-Electricity','Environment/Weather','Economic/Exchange']
    
    p1_dataset.forEach(checkbox_id=>{
        var check_box = document.getElementById(checkbox_id)
        if(!check_box.checked)
        {
            checked=false
        }
    })
    category = 'Electricity'
    const checkboxes = document.querySelectorAll(`.checkbox-${category}`);
    checkboxes.forEach(checkbox => {
        if(!checkbox.checked)
        {
            checked=false
        }
    });
    
    check_box = document.getElementById('select-p1')
    check_box.checked = checked


}
function updateAllCheckbox() {
    // const container = document.getElementById('dataset-container-mul');
    // const checkboxes = container.querySelectorAll('input[type="checkbox"]');
    // const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    // document.getElementById('select-all').checked = allChecked;
    // updateP1checkbox()
}
function toggleCategory(category, isChecked) {
    const checkbox = document.getElementById('select-all-' + category);
    checkbox.checked = isChecked;
    const checkboxes = document.querySelectorAll(`.checkbox-${category}`);
    checkboxes.forEach(checkbox => {
        checkbox.checked = isChecked;
    });
    updateAllCheckbox();
    submitSelection();  
}

function submitSelection() {
    const selectedDatasets = [];
    const checkboxes = document.querySelectorAll('.checkbox-container input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
            selectedDatasets.push(checkbox.value.replace('-','_'));
        }
    });

    select_metrics = []
    const checkboxes1 = document.querySelectorAll('#dataset-container-mul-up input[type="checkbox"]');
    checkboxes1.forEach(checkbox => {
        if (checkbox.checked) {
            items = checkbox.value.split('/')
            if (items.length == 2) {
                select_metrics.push(items[1])
            }
        }
    }); 
    
    select_horizons = []
    const checkboxes2 = document.querySelectorAll('#dataset-container-mul-down input[type="checkbox"]');
    checkboxes2.forEach(checkbox => {
        if (checkbox.checked) {
            items = checkbox.value.split('/')
            if (items.length == 2) {
                select_horizons.push(items[1])
            }
        }
    });
    
    select_score = []
    const checkboxes3 = document.querySelectorAll('#dataset-container-mul-down1 input[type="radio"]');
    checkboxes3.forEach(checkbox => {
        if (checkbox.checked) {
            items = checkbox.value.split('/')
            if (items.length == 2) {
                select_score.push(items[1])
            }
        }
    });
    phraseMultiTable(all_data_ , 'multivariateTable2', selectedDatasets, select_metrics, select_horizons, select_score)
}

function updateParentCheckbox(category) {
    const checkboxes = document.querySelectorAll(`.checkbox-${category}`);
    const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    document.getElementById(`select-all-${category}`).checked = allChecked;
}

function handleChildCheckboxChange(event) {
    const checkbox = event.target;
    const category = checkbox.className.split('-')[1];
    if (category != 'Score')
    {
        updateParentCheckbox(category);
        updateAllCheckbox();
        
    }
    else
    {
        checkbox.checked = true
        var id = checkbox.value
        for (let i1 = 1; i1 < 4; i1++) {
            const scoreBox = document.getElementById(`Score/${i1}`);
            if (scoreBox.value!=id) {
                scoreBox.checked = false;
            }
        }
    }
    submitSelection();
}


function toggleSelectAll(selectAllCheckbox) {
    const container = document.getElementById('all');
    const checkboxes = container.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        checkbox.checked = selectAllCheckbox;
    });
    submitSelection(); // 调用submitSelection来处理选中的数据
}

// fetch('multivariate_total.csv')
//     .then(response => response.text())
//     .then(text => Papa.parse(text, {
//         header: true,
//         dynamicTyping: true,
//         complete:function(results){
            
//         } 
//     }));

function p1(checked)
{
    toggleSelectAll(false)
    p1_dataset=['Traffic/Traffic', 'Energy/Solar','Health/ILI','select-all-Electricity','Environment/Weather','Economic/Exchange']

    p1_dataset.forEach(checkbox_id=>{
        var check_box = document.getElementById(checkbox_id)
        check_box.checked = checked;
    })
    toggleCategory('Electricity', checked) 
    submitSelection()
}
function setContainerHeight() {
    // const tableContainer = document.querySelector('#table-container1');
    // const mainContainer = document.querySelector('#main-container1');
    // mainContainer.style.height = tableContainer.offsetHeight + 'px';

    // const tableContainer = document.querySelector('#table-container1');
    // const mainContainer = document.querySelector('#main-container1');
    // mainContainer.style.height = tableContainer.offsetHeight + 'px';
}
let lastValidValue = '';
function validateInput(input) {
    let value = input.value;

    // 保存光标位置
    const cursorPos = input.selectionStart;
    
    // 处理整数和小数部分
    let [integerPart, decimalPart] = value.split('.');
    

    // 处理整数部分：去除前导零并限制最大两位数
    
    // 去除前导零
    if (integerPart.length > 1) {
        integerPart = integerPart.replace(/^0+/, ''); 
    }
    
    // 处理小数部分：限制最多两位
    if (decimalPart) {
        decimalPart = decimalPart.slice(0, 2);
    }
    
    // 合并整数部分和小数部分
    let newValue = integerPart;
    if (decimalPart) {
        newValue += '.' + decimalPart;
    }
    
    // 如果小数点后有数字，但是小数点前的数字部分为空，应至少显示 `0`
    if (newValue === '' || newValue === '.') {
        newValue = '0';
    }
    
    // 验证并更新输入值
    if (newValue !== value) {
        input.value = newValue;
    }
    
    // 更新最后一个有效值
    lastValidValue = input.value;
    
    // 恢复光标的位置
    // input.setSelectionRange(cursorPos, cursorPos);
    submitSelection()
}


function findBottomThreeKeys(obj) {
    let minKey = null;
    let secondMinKey = null;
    let thirdMinKey = null;
    let minValue = Infinity;
    let secondMinValue = Infinity;
    let thirdMinValue = Infinity;

    for (const [key, value] of Object.entries(obj)) {
        if (typeof value === 'number') {
            if (value < minValue) {
                // 更新第三小值和键
                thirdMinValue = secondMinValue;
                // 更新第二小值和键
                secondMinValue = minValue;
                // 更新最小值和键
                minValue = value;

            } else if (value < secondMinValue && value!=minValue) {
                // 更新第三小值和键
                thirdMinValue = secondMinValue;
                // 更新第二小值和键
                secondMinValue = value;

            } else if (value < thirdMinValue&& value!=minValue&& value!=secondMinValue) {
                // 更新第三小值和键
                thirdMinValue = value;
            }
        }
    }

    return {
        minValue,
        secondMinValue,
        thirdMinValue,
    };
}
function format(num)
{
  if (typeof(num)!='number')
  {
    return 'NaN'
  }else
  {
    return num.toFixed(3)
  }
}
function displayResults11(rankCounts, connectTexts, connectUrls, paperUrls, codeUrls,pub,bib,year,table,is_rank) {

    const tableHeadr = document.getElementById(table).getElementsByTagName('thead')[0];
    const tableBody = document.getElementById(table).getElementsByTagName('tbody')[0];

    const rowHeadr = document.createElement('tr');
    const rowHeadrYear = document.createElement('tr');
    const rowHeadr2 = document.createElement('tr');
    models = []
    year.forEach((res) =>{
        key = res[0]

        if (key!='Dataset-Quantity-metrics')
        {
            models.push(key)
            const th = document.createElement('th');
            if (key=='Non-stationary Transformer')
            {
                th.innerHTML='Stationary'
            }else if (key=='Linear Regression')
            {
                th.innerHTML='LR'
            }else
            {
                th.innerHTML = key
            }
            th.style='padding-bottom:5px'
            th.colSpan  = 2
            rowHeadr.appendChild(th)
        }else
        {
          const th = document.createElement('th');
            th.innerHTML = 'Model'
            th.className='sticky-col-header sticky-col2'
            th.style='left:0;vertical-align: middle;'
            th.colSpan  = 2
            th.rowSpan  = 2
            rowHeadr.appendChild(th)
        }
        })
    
    rowHeadr.className='sticky-th'
    rowHeadr.style='z-index:3'
    rowHeadrYear.className='sticky-th'
    rowHeadrYear.style='top:37.4px;font-size:14px' 
    rowHeadr2.className='sticky-th'
    rowHeadr2.style='top:62.4px;box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 3px -2px;' 
    year.forEach((res) =>{

       
        key = res[0]
        if (key!='Dataset-Quantity-metrics')
        {
            const thYear = document.createElement('th');
            thYear.style='padding:0px;height:25px'
            thYear.innerHTML = res[1]
            thYear.colSpan  = 2
            rowHeadrYear.appendChild(thYear)

            const th1 = document.createElement('th');
            const th2 = document.createElement('th');
            th1.innerHTML = 'mse'
            th2.innerHTML = 'mae'
            rowHeadr2.appendChild(th1)
            rowHeadr2.appendChild(th2)
        }else
        {
            const th = document.createElement('th');
            th.innerHTML = 'Metrics'
            th.className='sticky-col-header sticky-col2'
            th.style='left:0'
            th.colSpan  = 2
            rowHeadr2.appendChild(th)
        }
        })


    tableHeadr.appendChild(rowHeadr)
    tableHeadr.appendChild(rowHeadrYear)
    tableHeadr.appendChild(rowHeadr2)

    jinpai=0
    yinpai=0
    tongpai=0
    watch='DUET'
    watch='Pathformer'
    watch='PDF'
    for (let i = 0; i < rankCounts.length; i += 2) {
      if (i + 1 < rankCounts.length) {
      const row = document.createElement('tr');
      result_mae = rankCounts[i]
      result_mse = rankCounts[i+1]
      mae_sort = findBottomThreeKeys(result_mae)
      mse_sort = findBottomThreeKeys(result_mse)
       year.forEach((res)=>{
        key = res[0]
        if (key=='Dataset-Quantity-metrics')
        {
          const td1 = document.createElement('td');
          const div1 = document.createElement('div');
          const td2 = document.createElement('td');
          dataset = result_mae[key].split('/')[1]
          content = dataset.split('-')
          if (i %8 ==0)
          {
            div1 .innerHTML = content[0].replace('_','-')
            if (i%16==0)
            {
              div1.style=' writing-mode: vertical-rl; transform: rotate(180deg);margin:auto;text-rendering: geometricPrecision; -webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;width: 20px '
              td1.style='background-color: #f2f2f2;'
            }else
            {
              div1.style=' writing-mode: vertical-rl; transform: rotate(180deg);margin:auto;text-rendering: geometricPrecision; -webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale; width: 20px '
              td2.style='background-color: #ffffff;'
            }
            td1.className='sticky-col'
            td1.rowSpan  = 4
            td1.appendChild(div1)
            row.appendChild(td1)
          }
          
          td2.innerHTML = content[1]

          td2.className='sticky-col2'
          if (i%4==0)
          {
            td2.style='background-color: #ffffff;'
          }else
          {
            td2.style='background-color: #f2f2f2;'
          }
          
          row.appendChild(td2)
        }else
        {
          const td1 = document.createElement('td');
          const td2 = document.createElement('td');
          if (result_mae[key] == mae_sort['minValue'])
          {

            if(key == watch)
            {
              jinpai +=1
            }
            td1.innerHTML = '<b>'+format(result_mae[key])+'</b>'
          }
          else if (result_mae[key] == mae_sort['thirdMinValue'])
          {
            if(key == watch)
            {
              tongpai +=1
            }
             td1.innerHTML = '<u>'+format(result_mae[key])+'</u>'
          }else if (result_mae[key] == mae_sort['secondMinValue'])
          {
            if(key == watch)
            {
              yinpai +=1
            }
             td1.innerHTML = '<p class="double-underline">'+format(result_mae[key])+'</p>'
          }
          else
          {
            td1.innerHTML = format(result_mae[key])
          }

          if (result_mse[key] == mse_sort['minValue'])
          {
             if(key == watch)
            {
              jinpai +=1
            }
            td2.innerHTML = '<b>'+format(result_mse[key])+'</b>'
          }
          else if (result_mse[key] == mse_sort['thirdMinValue'])
          {
             if(key == watch)
            {
              tongpai +=1
            }
             td2.innerHTML = '<u>'+format(result_mse[key])+'</u>'
          }else if (result_mse[key] == mse_sort['secondMinValue'])
          {
            if(key == watch)
            {
              yinpai +=1
            }
             td2.innerHTML = '<p class="double-underline">'+format(result_mse[key])+'</p>'
          }
          else
          {
            td2.innerHTML = format(result_mse[key])
          }

          row.appendChild(td2)
          row.appendChild(td1)
        }
        
      })
      tableBody.append(row)
      }
    };

}

function phraseMultiTable11(results, table) {
     // Prepare results
    const data = results;

    // Extract new fields
    var connectTexts = {}, connectUrls = {}, paperUrls = {}, codeUrls = {}, pub = {}, year = {}, bib = {};
    
    // Extract metadata from the first seven rows
    for (let i = 0; i < 7; i++) {
        const row = data[i];
        for (const key in row) {
            if (key !== 'Dataset-Quantity-metrics') {
                if (i === 0) connectTexts[key] = row[key];
                if (i === 1) connectUrls[key] = row[key];
                if (i === 2) paperUrls[key] = row[key];
                if (i === 3) codeUrls[key] = row[key];
                if (i === 4) pub[key] = row[key];
                if (i === 5) bib[key] = row[key];
                if (i === 6) year[key] = row[key];
            }
        }
    }
   
    // Remove the first seven rows (metadata)
    const experimentData = data.slice(7);
    year['Dataset-Quantity-metrics']=9999
    year = Object.entries(year);
    year.sort((a, b) => b[1] - a[1]);
    // Display results
    displayResults11(experimentData, connectTexts, connectUrls, paperUrls, codeUrls, pub, bib, year, table,true);
}
fetch('multivariate_total.csv')
    .then(response => response.text())
    .then(text => Papa.parse(text, {
        header: true,
        dynamicTyping: true,
        complete:function(results){
            all_data_ = results.data
            populateCheckboxes(phraseMultiTable(all_data_,'multivariateTable2',["Traffic","Solar","ILI","Electricity","Weather","Exchange","ETTm2","ETTm1","ETTh2","ETTh1","AQShunyi","AQWan","NN5","Wike2000","Wind","ZafNoo","CzeLan","Covid19","NASDAQ","NYSE","FRED","PEMS04","PEMS","METR","PEMS08"]))
            const selectAllCheckbox = document.getElementById('select-all');
            if (selectAllCheckbox) {
            selectAllCheckbox.checked = true;
            toggleSelectAll(selectAllCheckbox.checked); // Ensure all individual checkboxes are also checked
            }

            setContainerHeight()
            toggleCategory('Metrics',true)
            toggleCategory('Horizons',true)
            document.getElementById(`Score/1`).checked = false
            document.getElementById(`Score/2`).checked = true
            document.getElementById(`Score/3`).checked = false
            submitSelection()
            phraseMultiTable11(all_data_, 'multivariateTable211')
        } 
    }));
</script>
<style>
/* 基本表格样式 */
table.my-table2 {
  width: 100%;
  border-collapse: collapse;
  font-family: Arial, sans-serif;
  border: none; /* 去除表格边框 */
  padding:0;
  margin:0
}

/* 表头样式 */
table.my-table2 th {
  background-color: #f2f2f2; /* 表头背景色（奇数行浅灰色） */
  color: black; /* 表头文字颜色 */
  font-weight: bold; /* 表头字体加粗 */
  padding: 10px; /* 调整表头内边距 */
  text-align: center; /* 居中对齐 */
   white-space: nowrap; /* 防止文本换行 */
  border: none;
}

/* 偶数行背景色 */
table.my-table2 tr:nth-child(odd) {
  background-color: #ffffff; /* 偶数行背景色（白色） */
}

/* 奇数行背景色 */
table.my-table2 tr:nth-child(even) {
  background-color: #f2f2f2; /* 奇数行背景色（浅灰色） */
}

/* 单元格样式 */
table.my-table2 td {
  padding: 8px; /* 调整单元格内边距 */
  text-align: center; /* 居中对齐 */
  border: none; /* 去除单元格边框 */
  vertical-align: middle;
  /* white-space: nowrap; 防止文本换行 */
  /* overflow: hidden; 隐藏溢出内容
  text-overflow: ellipsis; 溢出内容显示省略号 */
  /* max-width: 200px; 设置单元格最大宽度
  position: relative; 设置相对定位以显示悬停内容 */
}

/* 第4列单独样式 */
table.my-table2 tr td:nth-child(4) {
  /* max-width: 150px; 设置第4列单元格最大宽度 */
}

/* 第2列单独样式 */
table.my-table2 tr td:nth-child(2) {
  /* max-width: 80px; 设置第2列单元格最大宽度 */
}

/* 第7列单独样式 */
table.my-table2 tr td:nth-child(7) {
  /* max-width: 100px; 设置第7列单元格最大宽度 */
}
.table-container {
  width: 100%; /* Adjust width as needed */
  max-width: 100%; /* Ensure it doesn't exceed the container width */
  /* Adjust height as needed */
  overflow-x: auto; /* Enable horizontal scroll */
  overflow-y: hidden; /* Enable vertical scroll */
  padding-left: 0px;
}
.table-container {
  width: 80%; /* Adjust width as needed */
  /* max-width: 100%; Ensure it doesn't exceed the container width */
  /* Adjust height as needed */
  overflow-x: auto; /* Enable horizontal scroll */
  margin:auto;
  overflow-y: hidden; /* Enable vertical scroll */
  display: flex;justify-content: LEFT;
}
 select {
    background-color: #f2f2f2; /* 表头背景色（奇数行浅灰色） */
    color: black; /* 表头文字颜色 */
    font-weight: bold; /* 表头字体加粗 */
    text-align: center; /* 居中对齐 */
    white-space: nowrap; /* 防止文本换行 */
    border: none;
    margin:auto;
    }
select:focus {
  border: none; /* 确保选中时没有边框 */
  outline: none; /* 确保选中时没有黑框 */
}
option
{
    padding:5px,0;
}
.checkbox-item
{
    margin-left:15px;
}
</style>

<style>
.main-container{
    display: flex;
    align-items: stretch; /* Stretch items to the same height */
    height: 100%;
}
.checkbox-container1
{
     display: grid;
    grid-template-columns: 1fr; /* 分为两列 */
    gap: 10px;
    padding-right: 20px; /* Add some space between checkboxes and table */
    overflow-y: auto; /* Enable vertical scroll if needed */
}
.checkbox-container {
 display: grid;
    grid-template-columns: 1fr 1fr; /* 分为两列 */
    gap: 10px;
    padding-right: 20px; /* Add some space between checkboxes and table */
    overflow-y: auto; /* Enable vertical scroll if needed */
}
.category h3 {
    display: flex;
    align-items: center;
}

.category {
    margin-bottom: 10px;
}
.checkbox-wrapper {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    height: 100%;
    width:fit-content;
}
.article-entry h3{
    margin:0;
}
.all-checkbox {
    display: flex;
    align-items: center;
    margin-bottom: 10px; /* 在 "All" 复选框和其他复选框之间添加一些间距 */
}
.checkbox-wrapper1 {
    display: grid;
    grid-template-columns: 1.5fr 1.5fr;
    width:150px;

}

.checkbox-wrapper2 {
    display: grid;
    grid-template-columns: 1.5fr 1.5fr 1.5fr 1.5fr;
    width:260px;

}
.checkbox-wrapper3 {
    display: grid;
    grid-template-columns: 1;
    width:100%;

}
.checkbox-wrapper3 .checkbox-item
{
     margin-left:15px;
     margin-top:10px;
}
input[type="number"] {
    border: none; /* 去掉边框 */
    border-bottom: 1px solid #000; /* 底部添加一条横线 */
    outline: none;
    padding: 0px;
    /* padding-right: 0px;  */
    
    width: 31px;
    font-size:14px;
    /* text-align:right; */
    text-align:center;
}
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
}
input[type="number"]{
    -moz-appearance: textfield;
}

</style>


<div class="main-container" id="main-container-mul">
  <div class="checkbox-wrapper">
    <div class="checkbox-container1" id="dataset-container-mul-up">
      <div class="category" style="margin-bottom:0px">
        <h3>
          <input type="checkbox" id="select-all-Metrics" style='display:none' onchange="toggleCategory('Metrics', this.checked)">
          Metrics
          <b style="font: 16px 'Microsoft YaHei', Verdana, sans-serif; font-weight:bold"> [<a href="javascript:void(0);" onclick="toggleCategory('Metrics', true)" style="padding:0 3px">all</a>]</b>
        </h3>
        <div class="checkbox-wrapper1">
          <div class="checkbox-item">
            <input type="checkbox" id="Metrics/MAE" value="Metrics/MAE" onchange="handleChildCheckboxChange(event)" class="checkbox-Metrics">
            <label for="Metrics/MAE">MAE</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Metrics/MSE" value="Metrics/MSE" onchange="handleChildCheckboxChange(event)" class="checkbox-Metrics">
            <label for="Metrics/MSE">MSE</label>
          </div>
        </div>
      </div>
    </div>
    <div style='width:95%'>
      <hr style="border:1px dashed #ddd">
    </div>
    <div id='all'>
      <div class='checkbox-container'>
        <div class="all-checkbox">
          <input type="checkbox" id="select-all" onclick="toggleSelectAll(this.checked)" style="display:none">
          <label for="select-all">
            <h3 style="white-space:nowrap">Datasets
              <b style="font: 16px 'Microsoft YaHei', Verdana, sans-serif; font-weight:bold"> [<a href="javascript:void(0);" onclick="toggleSelectAll(true)" style="padding:0 3px">all</a>|<a href="javascript:void(0);" onclick="p1(true)" style="padding:0 3px">profile1</a>|<a href="javascript:void(0);" onclick="toggleSelectAll(false)" style="padding:0 3px">off</a>]</b>
            </h3>
          </label>
        </div>
      </div>
      <div class="checkbox-container" id="dataset-container-mul"></div>
    </div>
    <div style='width:95%'>
      <hr style="border:1px dashed #ddd">
    </div>
    <div class="checkbox-container1" id="dataset-container-mul-down">
      <div class="category" style="margin-bottom:0px">
        <h3>
          <input type="checkbox" id="select-all-Horizons" style='display:none' onchange="toggleCategory('Horizons', this.checked)">
          Forecasting Horizons
          <b style="font: 16px 'Microsoft YaHei', Verdana, sans-serif; font-weight:bold"> [<a href="javascript:void(0);" onclick="toggleCategory('Horizons', true)" style="padding:0 3px">all</a>|<a href="javascript:void(0);" onclick="toggleCategory('Horizons', false)" style="padding:0 3px">off</a>]</b>
        </h3>
        <div class="checkbox-wrapper2">
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/24" value="Horizons/24" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/24">24</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/36" value="Horizons/36" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/36">36</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/48" value="Horizons/48" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/48">48</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/60" value="Horizons/60" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/60">60</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/96" value="Horizons/96" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/96">96</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/192" value="Horizons/192" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/192">192</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/336" value="Horizons/336" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/336">336</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="Horizons/720" value="Horizons/720" onchange="handleChildCheckboxChange(event)" class="checkbox-Horizons">
            <label for="Horizons/720">720</label>
          </div>
        </div>
      </div>
    </div>
    <div style='width:95%'>
      <hr style="border:1px dashed #ddd">
    </div>
    <div class="checkbox-container1" id="dataset-container-mul-down1">
      <div class="category" style="margin-bottom:0px">
        <h3>
          <input type="checkbox" id="select-all-Score" style='display:none' onchange="toggleCategory('Score', this.checked)">
          Score
        </h3>
        <div class="checkbox-wrapper3">
          <div class="checkbox-item">
            <input type="radio" id="Score/1" value="Score/1" onchange="handleChildCheckboxChange(event)" class="checkbox-Score">
            <label for="Score/1">🥇</label>
          </div>
          <div class="checkbox-item">
            <input type="radio" id="Score/2" value="Score/2" onchange="handleChildCheckboxChange(event)" class="checkbox-Score">
            <label for="Score/2">🥇 + 🥈 + 🥉</label>
          </div>
          <div class="checkbox-item" style="flex-wrap:nowrap;">
            <input type="radio" id="Score/3" value="Score/3" onchange="handleChildCheckboxChange(event)" class="checkbox-Score">
            <label for="Score/3">
            <input type="number" id="score/3/1" name="score/3/1" value="3" oninput="validateInput(this)"> × 🥇 + 
            <input type="number" id="score/3/2" name="score/3/2" value="2" oninput="validateInput(this)"> × 🥈 + 
            <input type="number" id="score/3/3" name="score/3/3" value="1" oninput="validateInput(this)"> × 🥉</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="width:100%" class="table-container" id='table-container-mul'>
    <table id="multivariateTable2" class="my-table2">
      <thead>
        <tr>
 <th>Rank</th>
          <th>Model</th>
          <th>Score</th>
          <th>🥇</th>
          <th>🥈</th>
          <th>🥉</th>
          <th>Paper</th>
          <th>Publication</th>
          <th>Year</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
</div>


<h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules:"></a>Rules:</h3><ul>
<li><p>For multivariate forecasting algorithms, we consider 25 datasets and 2 error metrics, i.e., MAE and MSE. For each dataset, we consider 4 forecasting horizons. This gives 200 (25 * 4 * 2) unique evaluation settings (<a href="../200seetings">click here</a> for details), <a href="./#Multivariate-forecasting-results">click here</a> to see the detailed results, <a href="./MTSF_RESULTS.csv">click here</a> to download detailed evaluation results for each of the 25 multivariate time series.</p>
</li>
<li><p>For each forecasting algorithm, we count the number of times that the algorithm receives the gold, silver, and bronze medals, i.e., having the lowest, 2nd lowest, and 3rd lowest errors, shown as 🥇, 🥈, and 🥉, respectively. </p>
</li>
<li><p>We provide three different types of scores for ranking the forecasting algorithms. First, the scores equal to the numbers of gold medals. Second, the scores are the sum of the numbers of gold, silver, and bronze medals. Third, the scores are the weighted sum of the gold, silver, and bronze medals, where the weights can be customized. The larger the score, the higher the ranking.</p>
</li>
<li><p>Profile1 refers to a subset of ten datasets commonly used in recent literature, including Electricity, ETTm1, ETTm2, ETTh1, ETTh2, Traffic, Solar, Weather, ILI, and Exchange. </p>
</li>
<li><p>We consider four forecasting horizon F: {24, 36, 48, and 60} for FredMd, NASDAQ, NYSE, NN5, ILI, Covid-19, and Wike2000, and we use another four forecasting horizon, {96, 192, 336, and 720,} for all other datasets which have longer lengths. The look-back window H underwent testing with lengths {36 and 104} for FredMd, NASDAQ, NYSE, NN5, ILI, Covid-19, and Wike2000, and {96, 336, and 512} for all other datasets. For each method, we adhere to the hyper-parameter as specified in their original papers. Additionally, we perform hyper-parameter searches across multiple sets, with a limit of 16 sets. The optimal result is then selected from these evaluations, contributing to a comprehensive and unbiased assessment of each method’s performance. Please note that we have retested the results of the algorithms, which may differ from those in the TFB paper.</p>
<div style="height:30px"></div></li>
</ul>
<h3 id="Multivariate-forecasting-results"><a href="#Multivariate-forecasting-results" class="headerlink" title="Multivariate forecasting results"></a>Multivariate forecasting results</h3><div style="height:10px"></div>

<div class="main-container">
  <div style="width:100%;overflow-y:auto;height:800px" class="table-container">
    <table id="multivariateTable211" class="my-table2">
      <thead>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
</div>
<style>
.sticky-col{
            background-color: white;
            position: sticky;
            left: 0; /* 固定在左侧 */
            z-index: 1;/* 设定堆叠顺序 */
            /* box-shadow: rgba(0, 0, 0, 0.4) -2px 0px 3px -1px; */
        }
/* 确保交叉单元格的堆叠顺序 */
.sticky-col-header {
    z-index: 3;
}
.sticky-th {
      position: sticky;
      top: 0; /* 固定在顶部 */
      z-index: 2; /* 设定堆叠顺序 */
        }
.double-underline {
            position: relative;
            display: inline-block;
            /* font: inherit; 继承父元素的字体样式 */
        }
        .double-underline::after,
        .double-underline::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 1px; /* 下划线的厚度 */
            background-color: black; /* 下划线的颜色 */
        }
        .double-underline::before {
            bottom: 3px; /* 第一条下划线的位置 */
        }
        .double-underline::after {
            bottom: 0px; /* 第二条下划线的位置 */
        }
    .sticky-col2 {
            position: sticky;
            left: 36px; /* 根据第一列的宽度设置 */
            z-index: 1;
            background-color: #fff;
        }
.sticky-col2::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0px; /* 调整阴影位置 */
    width: 5px;
    height: 105%;
    box-shadow: 2px 0 3px -2px rgba(0, 0, 0, 0.4); /* 右侧阴影 */
}
.easyScholarDOI{
        display:none
    }
</style>

      
    
    </div>
    
    
      <footer class="article-footer">
        <!-- <div class="well" style="width:100px; height:30px;"></div>  by blair-->
        
 <!-- by blair add 160724-->
        <!--
        <div style="width:100px; height:30px;"></div> by blair add 160724
        -->
        

      </footer>
    
  </div>
  
    
  
</article>

</section>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 DecisionIntelligence |&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a target="_blank" rel="noopener" href="http://github.com/52binge/hexo-theme-blairos">blairos</a>
    </div>
  </div>
</footer> -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" >
</script>

    






<script src="/OpenTS/js/script.js"></script>


  </div>
  <!-- 把它放在 </body> 标签之前 -->
<script>
  // function updateLanguageLink() {
  //   // 获取页面上我们设置的那个链接元素
  //   const link = document.getElementById('lang-toggle-link');
  //   if (!link) {
  //     // 如果页面上没有这个链接，就什么都不做
  //     return;
  //   }

  //   // 这两个值需要和你的项目配置保持一致
  //   const DEFAULT_LANG = 'zh-cn'; // 你的默认语言，可能是 'zh' 或 'zh-cn'
  //   const SECOND_LANG = 'en';

  //   // 不再使用 page.path，而是使用浏览器当前真实的 URL
  //   const currentPathname = window.location.pathname;
    
  //   // 从 config 中获取站点的根目录，以便正确拼接 URL
  //   // hexo.config.root 通常是 '/' 或者 '/your-repo-name/'
  //   const root = '/OpenTS/';
  //   // console.log(currentPathname)
  //   // console.log(root)
  //   let targetPath;

  //   // 判断当前 URL 是否以 /en/ 开头
  //   if (currentPathname.startsWith(root + SECOND_LANG + '/')) {
  //     // 当前是英文页, 目标是中文页
  //     // e.g., /en/get-started/ -> /get-started/
  //     const pathWithoutLang = currentPathname.substring((root + SECOND_LANG).length);
  //     targetPath = root.slice(0, -1) + '/' + DEFAULT_LANG +  pathWithoutLang; // 拼接路径
  //   } else if(currentPathname.startsWith(root + DEFAULT_LANG + '/')){
  //     const pathWithoutLang = currentPathname.substring((root + DEFAULT_LANG).length);
  //     targetPath = root.slice(0, -1) + '/' + 'en' +  pathWithoutLang; // 拼接路径
  //   } 
  //   else {
  //     // 当前是中文页, 目标是英文页
  //     // e.g., /get-started/ -> /en/get-started/
  //     const pathWithoutRoot = currentPathname.substring(root.length);
  //     targetPath = root + SECOND_LANG + '/' + pathWithoutRoot;
  //   }

  //   // 更新链接的 href 属性
  //   link.href = targetPath;
  // }

  // // 监听 Pjax 加载完成事件
  // // 注意：事件名可能是 'pjax:end', 'pjax:complete' 等，取决于主题用的库
  // // 你可以在主题的 JS 文件里搜索 'pjax' 来确认
  // document.addEventListener('pjax:end', updateLanguageLink);

  // // 页面首次加载时也执行一次
  // document.addEventListener('DOMContentLoaded', updateLanguageLink);
  function updateLanguageUI() {
    const root = '/OpenTS/';
    const DEFAULT_LANG = '';
    const SECOND_LANG = 'zh-cn';
    const currentPathname = window.location.pathname;


    const isChinesePage = currentPathname.startsWith(root + SECOND_LANG + '/');
    
    if (isChinesePage) {
      document.body.classList.add('lang-zh-cn');
      document.body.classList.remove('lang-en');
    } else {

      document.body.classList.add('lang-en');
      document.body.classList.remove('lang-zh-cn');
    }

    // --- 2. 更新语言切换链接的 href (新逻辑) ---
    let linkToUpdate;
    let targetPath;

    if (isChinesePage) {
      // 在英文页，英文菜单可见。我们需要更新它里面的那个切换器。
      // linkToUpdate = document.getElementById('main-nav');
      linkToUpdate = document.getElementById('lang-toggle-link-zh-cn');
      // 目标是中文页 (不带语言前缀)
      const pathWithoutLang = currentPathname.substring((root + SECOND_LANG).length);
      targetPath = (root.endsWith('/') ? root.slice(0, -1) : root)  + pathWithoutLang;
      if (targetPath === '') targetPath = '/';

    } else {

      linkToUpdate = document.getElementById('lang-toggle-link-en');
      // 目标是英文页
      let pathWithoutLang = currentPathname.substring(root.length);
      if (pathWithoutLang.startsWith(DEFAULT_LANG + '/')) {
        pathWithoutLang = pathWithoutLang.substring((DEFAULT_LANG + '/').length);
      }
      targetPath = root +SECOND_LANG+ '/'+ pathWithoutLang;
    }

    // 如果找到了对应的链接，就更新它
    if (linkToUpdate) {
      linkToUpdate.href = targetPath;
      // console.log(linkToUpdate.href)
    }
  }

  // 监听 Pjax 加载完成事件
  document.addEventListener('pjax:end', updateLanguageUI);
  // 页面首次加载时也执行一次
  document.addEventListener('DOMContentLoaded', updateLanguageUI);
</script>
</body>
</html>
